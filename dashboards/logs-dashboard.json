{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 24,
      "height": 6,
      "properties": {
        "title": "Log Volume Over Time",
        "region": "us-east-1",
        "metrics": [
          [
            "AWS/Logs",
            "IncomingLogEvents",
            "LogGroupName",
            "/vector/logs/application",
            {
              "stat": "Sum",
              "period": 60
            }
          ]
        ],
        "view": "timeSeries",
        "stacked": false
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Log Level Distribution",
        "region": "us-east-1",
        "query": "SOURCE '/vector/logs/application' | stats count(*) by level",
        "view": "pie"
      }
    },
    {
      "type": "log",
      "x": 12,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Top Services by Volume",
        "region": "us-east-1",
        "query": "SOURCE '/vector/logs/application' | stats count(*) as count by service | sort count desc | limit 10",
        "view": "bar"
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 12,
      "width": 24,
      "height": 6,
      "properties": {
        "title": "Recent Error Logs",
        "region": "us-east-1",
        "query": "SOURCE '/vector/logs/application' | filter level = 'error' | sort @timestamp desc | limit 100",
        "view": "table"
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 18,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Logs by Service Over Time",
        "region": "us-east-1",
        "query": "SOURCE '/vector/logs/application' | stats count(*) by service, bin(5m)",
        "view": "timeSeries"
      }
    },
    {
      "type": "log",
      "x": 12,
      "y": 18,
      "width": 12,
      "height": 6,
      "properties": {
        "title": "Error Rate by Service",
        "region": "us-east-1",
        "query": "SOURCE '/vector/logs/application' | filter level = 'error' | stats count(*) as errors by service | sort errors desc",
        "view": "bar"
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 24,
      "width": 24,
      "height": 6,
      "properties": {
        "title": "Response Time Distribution",
        "region": "us-east-1",
        "query": "SOURCE '/vector/logs/application' | filter ispresent(duration_ms) | stats avg(duration_ms) as avg_duration, max(duration_ms) as max_duration, min(duration_ms) as min_duration by service",
        "view": "table"
      }
    }
  ]
}
